<% irregular ||= false %>
<div class="form-group<% if form.object.errors.has_key?(attribute) %> has-error<% end %>">
  <% if defined?(attribute) %>
    <%= label_tag attribute, attribute.to_s.humanize.titleize, :class => 'col-sm-2 control-label' %>
  <% else %>
    <label class='col-sm-2 control-label'></label>
  <% end %>
  <div class="col-sm-10<% if irregular %> irregular<% end %>">
    <%= yield %>
    <% if form.object.errors.has_key?(attribute) %>
      <span class="glyphicon glyphicon-remove form-control-feedback"></span>
    <% end %>
  </div>
</div>
